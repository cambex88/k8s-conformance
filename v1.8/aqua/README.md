# Reproduce instructions

## Install Aqua on your Kubernetes cluster

1. Install the server components with [Helm](https://github.com/aquasecurity/aqua-helm/README.md)

2. Find the Aqua console UI address with `kubectl get services`. You will need a license key to activate Aqua. 

3. Install the Aqua Enforcer daemonset using the YAML file generated by the batch install process in the Aqua console UI.

# Run the conformance test 

```
$ curl -L https://raw.githubusercontent.com/cncf/k8s-conformance/master/sonobuoy-conformance.yaml | kubectl apply -f -

$ kubectl logs -f -n sonobuoy sonobuoy
```

Wait for the tests to complete, indicated by a log with the message `no-exit was specified, sonobuoy is now blocking`. 

```
$ kubectl cp sonobuoy/sonobuoy:/tmp/sonobuoy ./results
```

This copies a tarball of results to a `results` directory

```
$ cd results 

$ tar xvf <filename>
```

The results files for the conformance test are plugins/e2e/results/{e2e.log,junit_01.xml} 

```
$ kubectl version > version.txt 
```

This provides the version information. 